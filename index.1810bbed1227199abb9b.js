(function(r){var n={};function a(e){if(n[e]){return n[e].exports}var t=n[e]={i:e,l:false,exports:{}};r[e].call(t.exports,t,t.exports,a);t.l=true;return t.exports}a.m=r;a.c=n;a.d=function(e,t,r){if(!a.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:r})}};a.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};a.t=function(t,e){if(e&1)t=a(t);if(e&8)return t;if(e&4&&typeof t==="object"&&t&&t.__esModule)return t;var r=Object.create(null);a.r(r);Object.defineProperty(r,"default",{enumerable:true,value:t});if(e&2&&typeof t!="string")for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r};a.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};a.d(e,"a",e);return e};a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};a.p="/";return a(a.s=25)})([function(e,t,r){"use strict";t.__esModule=true;t.extend=u;t.indexOf=f;t.escapeExpression=d;t.isEmpty=p;t.createFrame=v;t.blockParams=h;t.appendContextPath=m;var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"};var a=/[&<>"'`=]/g,o=/[&<>"'`=]/;function l(e){return n[e]}function u(e){for(var t=1;t<arguments.length;t++){for(var r in arguments[t]){if(Object.prototype.hasOwnProperty.call(arguments[t],r)){e[r]=arguments[t][r]}}}return e}var i=Object.prototype.toString;t.toString=i;var s=function e(t){return typeof t==="function"};if(s(/x/)){t.isFunction=s=function(e){return typeof e==="function"&&i.call(e)==="[object Function]"}}t.isFunction=s;var c=Array.isArray||function(e){return e&&typeof e==="object"?i.call(e)==="[object Array]":false};t.isArray=c;function f(e,t){for(var r=0,n=e.length;r<n;r++){if(e[r]===t){return r}}return-1}function d(e){if(typeof e!=="string"){if(e&&e.toHTML){return e.toHTML()}else if(e==null){return""}else if(!e){return e+""}e=""+e}if(!o.test(e)){return e}return e.replace(a,l)}function p(e){if(!e&&e!==0){return true}else if(c(e)&&e.length===0){return true}else{return false}}function v(e){var t=u({},e);t._parent=e;return t}function h(e,t){e.path=t;return e}function m(e,t){return(e?e+".":"")+t}},function(e,t,r){"use strict";t.__esModule=true;var s=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function c(e,t){var r=t&&t.loc,n=undefined,a=undefined,o=undefined,l=undefined;if(r){n=r.start.line;a=r.end.line;o=r.start.column;l=r.end.column;e+=" - "+n+":"+o}var u=Error.prototype.constructor.call(this,e);for(var i=0;i<s.length;i++){this[s[i]]=u[s[i]]}if(Error.captureStackTrace){Error.captureStackTrace(this,c)}try{if(r){this.lineNumber=n;this.endLineNumber=a;if(Object.defineProperty){Object.defineProperty(this,"column",{value:o,enumerable:true});Object.defineProperty(this,"endColumn",{value:l,enumerable:true})}else{this.column=o;this.endColumn=l}}}catch(e){}}c.prototype=new Error;t["default"]=c;e.exports=t["default"]},function(e,t,r){var n=r(3);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(n["default"]||n).template({1:function(e,t,r,n,a){var o,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t)){return e[t]}return undefined};return'    <div class="reviews_wrapper">\n'+((o=l(r,"each").call(t!=null?t:e.nullContext||{},t!=null?l(t,"comments"):t,{name:"each",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a,loc:{start:{line:3,column:8},end:{line:8,column:17}}}))!=null?o:"")+'        <div class="line"></div>\n    </div>\n'},2:function(e,t,r,n,a){var o,l=t!=null?t:e.nullContext||{},u=e.hooks.helperMissing,i="function",s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t)){return e[t]}return undefined};return'            <div class="comment_wrapper">\n                <span class="name">'+s((o=(o=c(r,"name")||(t!=null?c(t,"name"):t))!=null?o:u,typeof o===i?o.call(l,{name:"name",hash:{},data:a,loc:{start:{line:5,column:35},end:{line:5,column:45}}}):o))+'</span> <span class="place-date">'+s((o=(o=c(r,"place")||(t!=null?c(t,"place"):t))!=null?o:u,typeof o===i?o.call(l,{name:"place",hash:{},data:a,loc:{start:{line:5,column:78},end:{line:5,column:89}}}):o))+" "+s((o=(o=c(r,"date")||(t!=null?c(t,"date"):t))!=null?o:u,typeof o===i?o.call(l,{name:"date",hash:{},data:a,loc:{start:{line:5,column:90},end:{line:5,column:100}}}):o))+"</span></br>\n                "+s((o=(o=c(r,"comment")||(t!=null?c(t,"comment"):t))!=null?o:u,typeof o===i?o.call(l,{name:"comment",hash:{},data:a,loc:{start:{line:6,column:16},end:{line:6,column:29}}}):o))+"\n            </div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,a){var o,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t)){return e[t]}return undefined};return(o=l(r,"if").call(t!=null?t:e.nullContext||{},t!=null?l(t,"comments"):t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:11,column:7}}}))!=null?o:""},useData:true})},function(e,t,r){e.exports=r(10)["default"]},function(e,t,r){"use strict";t.__esModule=true;t.HandlebarsEnvironment=y;function n(e){return e&&e.__esModule?e:{default:e}}var a=r(0);var o=r(1);var l=n(o);var u=r(5);var i=r(18);var s=r(7);var c=n(s);var f=r(8);var d="4.7.6";t.VERSION=d;var p=8;t.COMPILER_REVISION=p;var v=7;t.LAST_COMPATIBLE_COMPILER_REVISION=v;var h={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};t.REVISION_CHANGES=h;var m="[object Object]";function y(e,t,r){this.helpers=e||{};this.partials=t||{};this.decorators=r||{};u.registerDefaultHelpers(this);i.registerDefaultDecorators(this)}y.prototype={constructor:y,logger:c["default"],log:c["default"].log,registerHelper:function e(t,r){if(a.toString.call(t)===m){if(r){throw new l["default"]("Arg not supported with multiple helpers")}a.extend(this.helpers,t)}else{this.helpers[t]=r}},unregisterHelper:function e(t){delete this.helpers[t]},registerPartial:function e(t,r){if(a.toString.call(t)===m){a.extend(this.partials,t)}else{if(typeof r==="undefined"){throw new l["default"]('Attempting to register a partial called "'+t+'" as undefined')}this.partials[t]=r}},unregisterPartial:function e(t){delete this.partials[t]},registerDecorator:function e(t,r){if(a.toString.call(t)===m){if(r){throw new l["default"]("Arg not supported with multiple decorators")}a.extend(this.decorators,t)}else{this.decorators[t]=r}},unregisterDecorator:function e(t){delete this.decorators[t]},resetLoggedPropertyAccesses:function e(){f.resetLoggedProperties()}};var g=c["default"].log;t.log=g;t.createFrame=a.createFrame;t.logger=c["default"]},function(e,t,r){"use strict";t.__esModule=true;t.registerDefaultHelpers=g;t.moveHelperToHooks=_;function n(e){return e&&e.__esModule?e:{default:e}}var a=r(11);var o=n(a);var l=r(12);var u=n(l);var i=r(13);var s=n(i);var c=r(14);var f=n(c);var d=r(15);var p=n(d);var v=r(16);var h=n(v);var m=r(17);var y=n(m);function g(e){o["default"](e);u["default"](e);s["default"](e);f["default"](e);p["default"](e);h["default"](e);y["default"](e)}function _(e,t,r){if(e.helpers[t]){e.hooks[t]=e.helpers[t];if(!r){delete e.helpers[t]}}}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){if(typeof window==="object")r=window}e.exports=r},function(e,t,r){"use strict";t.__esModule=true;var n=r(0);var l={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function e(t){if(typeof t==="string"){var r=n.indexOf(l.methodMap,t.toLowerCase());if(r>=0){t=r}else{t=parseInt(t,10)}}return t},log:function e(t){t=l.lookupLevel(t);if(typeof console!=="undefined"&&l.lookupLevel(l.level)<=t){var r=l.methodMap[t];if(!console[r]){r="log"}for(var n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++){a[o-1]=arguments[o]}console[r].apply(console,a)}}};t["default"]=l;e.exports=t["default"]},function(e,t,r){"use strict";t.__esModule=true;t.createProtoAccessControl=i;t.resultIsAllowed=s;t.resetLoggedProperties=d;function n(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}var a=r(20);var o=r(7);var l=n(o);var u=Object.create(null);function i(e){var t=Object.create(null);t["constructor"]=false;t["__defineGetter__"]=false;t["__defineSetter__"]=false;t["__lookupGetter__"]=false;var r=Object.create(null);r["__proto__"]=false;return{properties:{whitelist:a.createNewLookupObject(r,e.allowedProtoProperties),defaultValue:e.allowProtoPropertiesByDefault},methods:{whitelist:a.createNewLookupObject(t,e.allowedProtoMethods),defaultValue:e.allowProtoMethodsByDefault}}}function s(e,t,r){if(typeof e==="function"){return c(t.methods,r)}else{return c(t.properties,r)}}function c(e,t){if(e.whitelist[t]!==undefined){return e.whitelist[t]===true}if(e.defaultValue!==undefined){return e.defaultValue}f(t);return false}function f(e){if(u[e]!==true){u[e]=true;l.log("error",'Handlebars: Access has been denied to resolve the property "'+e+'" because it is not an "own property" of its parent.\n'+"You can add a runtime option to disable the check or this warning:\n"+"See https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details")}}function d(){Object.keys(u).forEach(function(e){delete u[e]})}},function(e,t,r){var n=r(3);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(n["default"]||n).template({compiler:[8,">= 4.3.0"],main:function(e,t,r,n,a){var o,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t)){return e[t]}return undefined};return'<div class="ballon_header header_wrapper">'+e.escapeExpression((o=(o=l(r,"address")||(t!=null?l(t,"address"):t))!=null?o:e.hooks.helperMissing,typeof o==="function"?o.call(t!=null?t:e.nullContext||{},{name:"address",hash:{},data:a,loc:{start:{line:1,column:42},end:{line:1,column:55}}}):o))+'</div>\n<div class="balloon_wrapper">\n    <div id="commentsNodeId"></div>\n    <p class="form_header">НОВЫЙ ОТЗЫВ</p>\n    <input class="nameInput" type="text" placeholder="Ваше имя"></br>\n    <input class="placeInput" type="text" placeholder="Укажите заведение"></br>\n    <textarea class="commentTextarea" placeholder="Поделитесь впечатлениями"></textarea><input class="sendButton" type="button" value="Добавить">\n</div>'},useData:true})},function(e,t,r){"use strict";t.__esModule=true;function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}var o=r(4);var l=a(o);var u=r(21);var i=n(u);var s=r(1);var c=n(s);var f=r(0);var d=a(f);var p=r(22);var v=a(p);var h=r(24);var m=n(h);function y(){var t=new l.HandlebarsEnvironment;d.extend(t,l);t.SafeString=i["default"];t.Exception=c["default"];t.Utils=d;t.escapeExpression=d.escapeExpression;t.VM=v;t.template=function(e){return v.template(e,t)};return t}var g=y();g.create=y;m["default"](g);g["default"]=g;t["default"]=g;e.exports=t["default"]},function(e,t,r){"use strict";t.__esModule=true;var l=r(0);t["default"]=function(o){o.registerHelper("blockHelperMissing",function(e,t){var r=t.inverse,n=t.fn;if(e===true){return n(this)}else if(e===false||e==null){return r(this)}else if(l.isArray(e)){if(e.length>0){if(t.ids){t.ids=[t.name]}return o.helpers.each(e,t)}else{return r(this)}}else{if(t.data&&t.ids){var a=l.createFrame(t.data);a.contextPath=l.appendContextPath(t.data.contextPath,t.name);t={data:a}}return n(e,t)}})};e.exports=t["default"]},function(r,n,a){"use strict";(function(p){n.__esModule=true;function e(e){return e&&e.__esModule?e:{default:e}}var v=a(0);var t=a(1);var h=e(t);n["default"]=function(e){e.registerHelper("each",function(n,e){if(!e){throw new h["default"]("Must pass iterator to #each")}var a=e.fn,t=e.inverse,r=0,o="",l=undefined,u=undefined;if(e.data&&e.ids){u=v.appendContextPath(e.data.contextPath,e.ids[0])+"."}if(v.isFunction(n)){n=n.call(this)}if(e.data){l=v.createFrame(e.data)}function i(e,t,r){if(l){l.key=e;l.index=t;l.first=t===0;l.last=!!r;if(u){l.contextPath=u+e}}o=o+a(n[e],{data:l,blockParams:v.blockParams([n[e],e],[u+e,null])})}if(n&&typeof n==="object"){if(v.isArray(n)){for(var s=n.length;r<s;r++){if(r in n){i(r,r,r===n.length-1)}}}else if(p.Symbol&&n[p.Symbol.iterator]){var c=[];var f=n[p.Symbol.iterator]();for(var d=f.next();!d.done;d=f.next()){c.push(d.value)}n=c;for(var s=n.length;r<s;r++){i(r,r,r===n.length-1)}}else{(function(){var t=undefined;Object.keys(n).forEach(function(e){if(t!==undefined){i(t,r-1)}t=e;r++});if(t!==undefined){i(t,r-1,true)}})()}}if(r===0){o=t(this)}return o})};r.exports=n["default"]}).call(this,a(6))},function(e,t,r){"use strict";t.__esModule=true;function n(e){return e&&e.__esModule?e:{default:e}}var a=r(1);var o=n(a);t["default"]=function(e){e.registerHelper("helperMissing",function(){if(arguments.length===1){return undefined}else{throw new o["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')}})};e.exports=t["default"]},function(e,t,r){"use strict";t.__esModule=true;function n(e){return e&&e.__esModule?e:{default:e}}var a=r(0);var o=r(1);var l=n(o);t["default"]=function(r){r.registerHelper("if",function(e,t){if(arguments.length!=2){throw new l["default"]("#if requires exactly one argument")}if(a.isFunction(e)){e=e.call(this)}if(!t.hash.includeZero&&!e||a.isEmpty(e)){return t.inverse(this)}else{return t.fn(this)}});r.registerHelper("unless",function(e,t){if(arguments.length!=2){throw new l["default"]("#unless requires exactly one argument")}return r.helpers["if"].call(this,e,{fn:t.inverse,inverse:t.fn,hash:t.hash})})};e.exports=t["default"]},function(e,t,r){"use strict";t.__esModule=true;t["default"]=function(a){a.registerHelper("log",function(){var e=[undefined],t=arguments[arguments.length-1];for(var r=0;r<arguments.length-1;r++){e.push(arguments[r])}var n=1;if(t.hash.level!=null){n=t.hash.level}else if(t.data&&t.data.level!=null){n=t.data.level}e[0]=n;a.log.apply(a,e)})};e.exports=t["default"]},function(e,t,r){"use strict";t.__esModule=true;t["default"]=function(e){e.registerHelper("lookup",function(e,t,r){if(!e){return e}return r.lookupProperty(e,t)})};e.exports=t["default"]},function(e,t,r){"use strict";t.__esModule=true;function n(e){return e&&e.__esModule?e:{default:e}}var a=r(0);var o=r(1);var l=n(o);t["default"]=function(e){e.registerHelper("with",function(e,t){if(arguments.length!=2){throw new l["default"]("#with requires exactly one argument")}if(a.isFunction(e)){e=e.call(this)}var r=t.fn;if(!a.isEmpty(e)){var n=t.data;if(t.data&&t.ids){n=a.createFrame(t.data);n.contextPath=a.appendContextPath(t.data.contextPath,t.ids[0])}return r(e,{data:n,blockParams:a.blockParams([e],[n&&n.contextPath])})}else{return t.inverse(this)}})};e.exports=t["default"]},function(e,t,r){"use strict";t.__esModule=true;t.registerDefaultDecorators=l;function n(e){return e&&e.__esModule?e:{default:e}}var a=r(19);var o=n(a);function l(e){o["default"](e)}},function(e,t,r){"use strict";t.__esModule=true;var u=r(0);t["default"]=function(e){e.registerDecorator("inline",function(a,o,l,e){var t=a;if(!o.partials){o.partials={};t=function(e,t){var r=l.partials;l.partials=u.extend({},r,o.partials);var n=a(e,t);l.partials=r;return n}}o.partials[e.args[0]]=e.fn;return t})};e.exports=t["default"]},function(e,t,r){"use strict";t.__esModule=true;t.createNewLookupObject=a;var n=r(0);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++){t[r]=arguments[r]}return n.extend.apply(undefined,[Object.create(null)].concat(t))}},function(e,t,r){"use strict";t.__esModule=true;function n(e){this.string=e}n.prototype.toString=n.prototype.toHTML=function(){return""+this.string};t["default"]=n;e.exports=t["default"]},function(e,t,r){"use strict";t.__esModule=true;t.checkRevision=s;t.template=v;t.wrapProgram=h;t.resolvePartial=m;t.invokePartial=y;t.noop=g;function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}var o=r(0);var c=a(o);var l=r(1);var f=n(l);var u=r(4);var d=r(5);var i=r(23);var p=r(8);function s(e){var t=e&&e[0]||1,r=u.COMPILER_REVISION;if(t>=u.LAST_COMPATIBLE_COMPILER_REVISION&&t<=u.COMPILER_REVISION){return}if(t<u.LAST_COMPATIBLE_COMPILER_REVISION){var n=u.REVISION_CHANGES[r],a=u.REVISION_CHANGES[t];throw new f["default"]("Template was precompiled with an older version of Handlebars than the current runtime. "+"Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+a+").")}else{throw new f["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. "+"Please update your runtime to a newer version ("+e[1]+").")}}function v(i,s){if(!s){throw new f["default"]("No environment passed to template")}if(!i||!i.main){throw new f["default"]("Unknown template object: "+typeof i)}i.main.decorator=i.main_d;s.VM.checkRevision(i.compiler);var n=i.compiler&&i.compiler[0]===7;function e(e,t,r){if(r.hash){t=c.extend({},t,r.hash);if(r.ids){r.ids[0]=true}}e=s.VM.resolvePartial.call(this,e,t,r);var n=c.extend({},r,{hooks:this.hooks,protoAccessControl:this.protoAccessControl});var a=s.VM.invokePartial.call(this,e,t,n);if(a==null&&s.compile){r.partials[r.name]=s.compile(e,i.compilerOptions,s);a=r.partials[r.name](t,n)}if(a!=null){if(r.indent){var o=a.split("\n");for(var l=0,u=o.length;l<u;l++){if(!o[l]&&l+1===u){break}o[l]=r.indent+o[l]}a=o.join("\n")}return a}else{throw new f["default"]("The partial "+r.name+" could not be compiled when running in runtime-only mode")}}var l={strict:function e(t,r,n){if(!t||!(r in t)){throw new f["default"]('"'+r+'" not defined in '+t,{loc:n})}return t[r]},lookupProperty:function e(t,r){var n=t[r];if(n==null){return n}if(Object.prototype.hasOwnProperty.call(t,r)){return n}if(p.resultIsAllowed(n,l.protoAccessControl,r)){return n}return undefined},lookup:function e(t,r){var n=t.length;for(var a=0;a<n;a++){var o=t[a]&&l.lookupProperty(t[a],r);if(o!=null){return t[a][r]}}},lambda:function e(t,r){return typeof t==="function"?t.call(r):t},escapeExpression:c.escapeExpression,invokePartial:e,fn:function e(t){var r=i[t];r.decorator=i[t+"_d"];return r},programs:[],program:function e(t,r,n,a,o){var l=this.programs[t],u=this.fn(t);if(r||o||a||n){l=h(this,t,u,r,n,a,o)}else if(!l){l=this.programs[t]=h(this,t,u)}return l},data:function e(t,r){while(t&&r--){t=t._parent}return t},mergeIfNeeded:function e(t,r){var n=t||r;if(t&&r&&t!==r){n=c.extend({},r,t)}return n},nullContext:Object.seal({}),noop:s.VM.noop,compilerInfo:i.compiler};function u(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var r=t.data;u._setup(t);if(!t.partial&&i.useData){r=_(e,r)}var n=undefined,a=i.useBlockParams?[]:undefined;if(i.useDepths){if(t.depths){n=e!=t.depths[0]?[e].concat(t.depths):t.depths}else{n=[e]}}function o(e){return""+i.main(l,e,l.helpers,l.partials,r,a,n)}o=b(i.main,o,l,t.depths||[],r,a);return o(e,t)}u.isTop=true;u._setup=function(e){if(!e.partial){var t=c.extend({},s.helpers,e.helpers);w(t,l);l.helpers=t;if(i.usePartial){l.partials=l.mergeIfNeeded(e.partials,s.partials)}if(i.usePartial||i.useDecorators){l.decorators=c.extend({},s.decorators,e.decorators)}l.hooks={};l.protoAccessControl=p.createProtoAccessControl(e);var r=e.allowCallsToHelperMissing||n;d.moveHelperToHooks(l,"helperMissing",r);d.moveHelperToHooks(l,"blockHelperMissing",r)}else{l.protoAccessControl=e.protoAccessControl;l.helpers=e.helpers;l.partials=e.partials;l.decorators=e.decorators;l.hooks=e.hooks}};u._child=function(e,t,r,n){if(i.useBlockParams&&!r){throw new f["default"]("must pass block params")}if(i.useDepths&&!n){throw new f["default"]("must pass parent depths")}return h(l,e,i[e],t,0,r,n)};return u}function h(n,e,a,o,t,l,u){function r(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var r=u;if(u&&e!=u[0]&&!(e===n.nullContext&&u[0]===null)){r=[e].concat(u)}return a(n,e,n.helpers,n.partials,t.data||o,l&&[t.blockParams].concat(l),r)}r=b(a,r,n,u,o,l);r.program=e;r.depth=u?u.length:0;r.blockParams=t||0;return r}function m(e,t,r){if(!e){if(r.name==="@partial-block"){e=r.data["partial-block"]}else{e=r.partials[r.name]}}else if(!e.call&&!r.name){r.name=e;e=r.partials[e]}return e}function y(e,t,r){var a=r.data&&r.data["partial-block"];r.partial=true;if(r.ids){r.data.contextPath=r.ids[0]||r.data.contextPath}var o=undefined;if(r.fn&&r.fn!==g){(function(){r.data=u.createFrame(r.data);var n=r.fn;o=r.data["partial-block"]=function e(t){var r=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];r.data=u.createFrame(r.data);r.data["partial-block"]=a;return n(t,r)};if(n.partials){r.partials=c.extend({},r.partials,n.partials)}})()}if(e===undefined&&o){e=o}if(e===undefined){throw new f["default"]("The partial "+r.name+" could not be found")}else if(e instanceof Function){return e(t,r)}}function g(){return""}function _(e,t){if(!t||!("root"in t)){t=t?u.createFrame(t):{};t.root=e}return t}function b(e,t,r,n,a,o){if(e.decorator){var l={};t=e.decorator(t,l,r,n&&n[0],a,o,n);c.extend(t,l)}return t}function w(r,n){Object.keys(r).forEach(function(e){var t=r[e];r[e]=x(t,n)})}function x(e,t){var r=t.lookupProperty;return i.wrapHelper(e,function(e){return c.extend({lookupProperty:r},e)})}},function(e,t,r){"use strict";t.__esModule=true;t.wrapHelper=n;function n(r,n){if(typeof r!=="function"){return r}var e=function e(){var t=arguments[arguments.length-1];arguments[arguments.length-1]=n(t);return r.apply(this,arguments)};return e}},function(e,t,r){"use strict";(function(n){t.__esModule=true;t["default"]=function(e){var t=typeof n!=="undefined"?n:window,r=t.Handlebars;e.noConflict=function(){if(t.Handlebars===e){t.Handlebars=r}return e}};e.exports=t["default"]}).call(this,r(6))},function(e,t,r){"use strict";r.r(t);var n=r(9);var a=r.n(n);var o=r(2);var f=r.n(o);function u(t){if(typeof Symbol==="undefined"||t[Symbol.iterator]==null){if(Array.isArray(t)||(t=i(t))){var r=0;var e=function e(){};return{s:e,n:function e(){if(r>=t.length)return{done:true};return{done:false,value:t[r++]}},e:function e(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a=true,o=false,l;return{s:function e(){n=t[Symbol.iterator]()},n:function e(){var t=n.next();a=t.done;return t},e:function e(t){o=true;l=t},f:function e(){try{if(!a&&n.return!=null)n.return()}finally{if(o)throw l}}}}function i(e,t){if(!e)return;if(typeof e==="string")return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}function l(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var s=[];function c(){ymaps.ready(function(){var n=new ymaps.Map("map",{center:[55.6,37.6],zoom:10});h().then(function(){var o=ymaps.templateLayoutFactory.createClass("{{properties.balloonContent|raw}}",{build:function e(){o.superclass.build.call(this);var t=document.querySelector(".ballon_header").innerHTML;var r=m(t);var n=document.querySelector("#commentsNodeId");n.innerHTML=f()({comments:r});var a=document.querySelector(".sendButton");a.addEventListener("click",this.onSendClick)},onSendClick:function e(){var t=document.querySelector("input.nameInput");var r=document.querySelector("input.placeInput");var n=document.querySelector("textarea.commentTextarea");var a=document.querySelector(".ballon_header").innerHTML;var o=y(a);var l=new Date;var u="".concat(l.getDay(),".").concat(l.getMonth(),".").concat(l.getFullYear());var i={name:t.value,place:r.value,comment:n.value,date:u};v(o,i,a);var s=document.querySelector(".ymaps-2-1-78-balloon__close-button");s.click()}});var r=new ymaps.Clusterer({preset:"islands#invertedDarkOrangeClusterIcons",clusterDisableClickZoom:true,openBalloonOnClick:true,groupByCoordinates:false,clusterBalloonContentLayout:"cluster#balloonCarousel",clusterBalloonItemContentLayout:o,clusterBalloonContentWidth:385,clusterBalloonContentLayoutWidth:385,clusterBalloonContentLayoutHeight:400});n.geoObjects.add(r);n.events.add("click",function(e){var t=e.get("coords");d(t).then(function(e){p(n,e,r)})})})})}function d(r){return ymaps.geocode(r).then(function(e){var t={};t.coords=r;t.address=e.geoObjects.get(0).properties.get("text");t.comments=g(r);return t})}function p(e,i,t){var s=new ymaps.Placemark(i.coords,{balloonContent:a()(i),address:"".concat(i.address)},{preset:"islands#icon",iconColor:"#0095b6"});t.add(s);var c=false;s.balloon.events.add("open",function(){var e=i.coords;var t=document.querySelector("#commentsNodeId");i.comments=g(e);t.innerHTML=f()(i);var r=document.querySelector("input.sendButton");var n=document.querySelector("input.nameInput");var a=document.querySelector("input.placeInput");var o=document.querySelector("textarea.commentTextarea");var l=new Date;var u="".concat(l.getDay(),".").concat(l.getMonth(),".").concat(l.getFullYear());r.addEventListener("click",function(e){var t=i.coords;var r={name:n.value,place:a.value,comment:o.value,date:u};v(t,r,i.address);c=true;s.balloon.close()})});s.balloon.events.add("close",function(){if(!c){t.remove(s)}});s.balloon.open()}function v(e,t,r){var n=false;var a=u(s),o;try{for(a.s();!(o=a.n()).done;){var l=o.value;if(l.coords===e){l.value.push(t);n=true}}}catch(e){a.e(e)}finally{a.f()}if(!n){s.push({coords:e,value:[t],address:r})}}function h(){return new Promise(function(r){var n=[];if(s.length>0){var e=function e(t){ymaps.geocode(s[t].coords).then(function(e){n.push({coords:s[t].coords,comments:s[t].value,address:e.geoObjects.get(0).properties.get("text")});if(t===s.length-1){r(n)}})};for(var t=0;t<s.length;t++){e(t)}}else{r([])}})}function m(e){for(var t=0;t<s.length;t++){if(s[t].address===e){return s[t].value}}}function y(e){for(var t=0;t<s.length;t++){if(s[t].address===e){return s[t].coords}}}function g(e){var t=u(s),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;if(n.coords===e){return n.value}}}catch(e){t.e(e)}finally{t.f()}return[]}var _=r(26);c()},function(e,t){}]);
//# sourceMappingURL=index.1810bbed1227199abb9b.js.map